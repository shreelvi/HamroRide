@model gurujiRide.Models.OfferRide

<div class="card ride-card" style="margin:8px;" title="@((Model.Name ?? "") + " — " + (Model.Contact ?? ""))">
  <div class="card-body">
    <h5 class="card-title" title="@Model.Name">@Html.Encode(Model.Name ?? "Anonymous")</h5>

    <h6 class="card-subtitle mb-2 text-muted" title="@Model.Contact">
        @if (!string.IsNullOrWhiteSpace(Model.Contact))
        {
            <a href="@Model.Contact" target="_blank" rel="noopener noreferrer" style="text-decoration:none;color:inherit;">
                <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" role="img">
                    <path fill="#0084FF" d="M12 2C6.48 2 2 5.58 2 10c0 2.31 1.18 4.38 3.16 5.84V22l3.01-1.64C10.07 20.64 11.01 21 12 21c5.52 0 10-3.58 10-9s-4.48-10-10-10z"/>
                    <path fill="#fff" d="M9.5 13.5L11 10.5l2.5 3.5L13 11.5 9.5 15.5l.0-.0z" />
                </svg>
                <span class="ms-1">Contact</span>
            </a>
        }
        else
        {
            @Html.Raw("—")
        }
    </h6>

    <p class="card-text" title="Pickup: @Model.Pickup; Dropoff: @Model.Dropoff">
      <strong>Pickup:</strong> @Html.Encode(Model.Pickup) <span class="mx-1">|</span>
      <strong>Dropoff:</strong> @Html.Encode(Model.Dropoff) <br />
      <strong>Trip Date:</strong> @(Model.Date?.ToString("yyyy-MM-dd") ?? "—")
      @if (Model.Time != null) { <text> @DateTime.Today.Add(Model.Time.Value).ToString("h:mm tt")</text> }
    </p>

    @if (!string.IsNullOrWhiteSpace(Model.Note))
    {
        <p class="card-text"><strong>Note:</strong> @Html.Encode(Model.Note)</p>
    }

    @{
        var src = Model.CreatedAt.Kind == DateTimeKind.Unspecified
            ? DateTime.SpecifyKind(Model.CreatedAt, DateTimeKind.Utc)
            : Model.CreatedAt;
        var createdAtLocal = src.ToLocalTime();
        var createdAtDisplay = createdAtLocal.ToString("yyyy-MM-dd h:mm tt");
        var createdAtIsoUtc = src.ToUniversalTime().ToString("o");
    }

    <div class="text-muted small" title="@createdAtDisplay">
      <span class="js-created-at" data-utc="@createdAtIsoUtc">Offered: @createdAtDisplay</span>
    </div>
  </div>
</div>
